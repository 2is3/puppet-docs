<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Puppet Docs</title>
    <link rel="stylesheet" type="text/css" href="../../files/stylesheets/style.css" media="all"/>
    <link rel="stylesheet" type="text/css" href="../../files/stylesheets/syntax.css" media="all"/>
  <script type="text/javascript" src="../../files/javascripts/guides.js"></script>
  <!-- <script type="text/javascript" src="../../files/javascripts/code_highlighter.js"></script><script type="text/javascript" src="../../files/javascripts/highlighters.js"></script> --></head>
  <body class="guide">
    <div id="topNav">
      <div class="wrapper">
        <strong>More at <a href="http://reductivelabs.com/">reductivelabs.com:</a> </strong>
        <a href="http://projects.reductivelabs.com/">Issue Tracker</a>
      </div>
    </div>
    <div id="header">
      <div class="wrapper clearfix">
        <h1><a href="../../index.html" title="Return to home page">docs.reductivelabs.com</a></h1>
        <p class="hide"><a href="#mainCol">Skip navigation</a>.</p>
        <ul class="nav">
          <li><a href="../../index.html">Home</a></li>
          <li class="index"><a href="index.html" onclick="guideMenu(); return false;" id="guidesMenu">Docs Index</a>
          <div id="index-dialog" class="clearfix" style="display: none;">
            <hr />
            <dl class="L">
              <dt>Guides</dt>
              <dd><a href="../../introduction.html">An Introduction to Puppet</a></dd>
              <dd><a href="../../installation.html">Installing Puppet</a></dd>
              <dd><a href="../../language_tutorial.html">Puppet Language Tutorial</a></dd>
            </dl>
            <dl class="R">
              <dt>References</dt>
              <dd><a href="../../types/">Resource Types (Categorized)</a></dd>
              <dd><a href="../../types/alphabetical_index.html">Resource Types (Alphabetical)</a></dd>
            </dl>
          </div>
          </li>
          <li><a href="contribute.html">Contribute</a></li>
        </ul>
      </div>
    </div>
    <hr class="hide" />

    <div id="feature">
      <div class="wrapper">
        <h1 id='filebucket'>filebucket</h1>

<p>Defines a repository for backing up files.</p>
        
              <div id="subCol">
        <h3 class="chapter"><img src="../../images/chapters_icon.gif" alt="" />Contents</h3>
        <ol class="chapters">
<li><a href="#background">Background</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#platforms">Platforms</a></li>
<li><a href="#version_compatibility">Version Compatibility</a></li>
<li>
<a href="#parameters">Parameters</a><ul style="list-style: none;">
<li><a href="#id149"><code>name</code></a></li>
<li><a href="#id150"><code>path</code></a></li>
<li><a href="#id151"><code>port</code></a></li>
<li><a href="#id152"><code>server</code></a></li>
</ul>
</li></ol></div>
      </div>
    </div>
    
    <div id="container">
      <div class="wrapper">
        <div id="mainCol">
          <h2 id='background'>Background</h2>

<p>If no filebucket is defined, then files will be backed up in their current directory, but the filebucket can be either a host- or site-global repository for backing up. It stores files and returns the MD5 sum, which can later be used to retrieve the file if restoration becomes necessary. A filebucket does not do any work itself; instead, it can be specified as the value of <em>backup</em> in a <strong>file</strong> object.</p>

<p>Currently, filebuckets are only useful for manual retrieval of accidentally removed files (e.g., you look in the log for the md5 sum and retrieve the file with that sum from the filebucket), but when transactions are fully supported filebuckets will be used to undo transactions.</p>

<p>You will normally want to define a single filebucket for your whole network and then use that as the default backup location:</p>

<pre><code># Define the bucket
filebucket { main: server =&gt; puppet }

# Specify it as the default target
File { backup =&gt; main }</code></pre>

<p>Puppetmaster servers create a filebucket by default, so this will work in a default configuration.</p>

<h2 id='requirements'>Requirements</h2>

<p>No additional requirmements.</p>

<h2 id='platforms'>Platforms</h2>

<p>All platforms.</p>

<h2 id='version_compatibility'>Version Compatibility</h2>
<div class='warning'><p>This section has not been completed.</p></div>
<h2 id='parameters'>Parameters</h2>

<h3 id='id153'><code>name</code></h3>

<p>The name of the filebucket.</p>
<div class='info'><p>This is the <code>namevar</code> for this resource type.</p></div>
<h3 id='id154'><code>path</code></h3>

<p>The path to the local filebucket. If this is unset, then the bucket is remote. The parameter <code>server</code> must can be specified to set the remote server.</p>

<h3 id='id155'><code>port</code></h3>

<p>The port on which the remote server is listening. Defaults to the normal Puppet port, <code>8140</code>.</p>

<h3 id='id156'><code>server</code></h3>

<p>The server providing the remote filebucket. If this is not specified then <code>path</code> is checked. If it is set, then the bucket is local. Otherwise the puppetmaster server specified in the config or at the commandline is used.</p>
        </div>
      </div>
    </div>
    
    <hr class="hide" />
    
    <div id="footer">
      <div class="wrapper">
        <p>&copy; 2009 Reductive Labs.</p>
        <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0</a> License.</p>
        <p>The documentation format are based on the &#8220;Rails Guides&#8221; project by the Ruby on Rails community.</p> 
      </div>
    </div>

  </body>
</html>