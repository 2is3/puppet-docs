<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Puppet Docs</title>
    <link rel="stylesheet" type="text/css" href="../../files/stylesheets/style.css" media="all"/>
    <link rel="stylesheet" type="text/css" href="../../files/stylesheets/syntax.css" media="all"/>
  <script type="text/javascript" src="../../files/javascripts/guides.js"></script>
  <!-- <script type="text/javascript" src="../../files/javascripts/code_highlighter.js"></script><script type="text/javascript" src="../../files/javascripts/highlighters.js"></script> --></head>
  <body class="guide">
    <div id="topNav">
      <div class="wrapper">
        <strong>More at <a href="http://reductivelabs.com/">reductivelabs.com:</a> </strong>
        <a href="http://projects.reductivelabs.com/">Issue Tracker</a>
      </div>
    </div>
    <div id="header">
      <div class="wrapper clearfix">
        <h1><a href="../../index.html" title="Return to home page">docs.reductivelabs.com</a></h1>
        <p class="hide"><a href="#mainCol">Skip navigation</a>.</p>
        <ul class="nav">
          <li><a href="../../index.html">Home</a></li>
          <li class="index"><a href="index.html" onclick="guideMenu(); return false;" id="guidesMenu">Docs Index</a>
          <div id="index-dialog" class="clearfix" style="display: none;">
            <hr />
            <dl class="L">
              <dt>Guides</dt>
              <dd><a href="../../introduction.html">An Introduction to Puppet</a></dd>
              <dd><a href="../../installation.html">Installing Puppet</a></dd>
              <dd><a href="../../language_tutorial.html">Puppet Language Tutorial</a></dd>
            </dl>
            <dl class="R">
              <dt>References</dt>
              <dd><a href="../../types/">Resource Types (Categorized)</a></dd>
              <dd><a href="../../types/alphabetical_index.html">Resource Types (Alphabetical)</a></dd>
            </dl>
          </div>
          </li>
          <li><a href="contribute.html">Contribute</a></li>
        </ul>
      </div>
    </div>
    <hr class="hide" />

    <div id="feature">
      <div class="wrapper">
        <p>tidy</p>

<p>Remove unwanted files based on specific criteria. Multiple criteria are OR&#8217;d together, so a file that is too large but is not old enough will still get tidied.</p>

<p>If you don&#8217;t specify either &#8216;age&#8217; or &#8216;size&#8217;, then all files will be removed.</p>

<p>This resource type works by generating a file resource for every file that should be deleted and then letting that resource perform the actual deletion.</p>

<h3 id='parameters'>Parameters</h3>

<h4 id='age'>age</h4>

<p>Tidy files whose age is equal to or greater than the specified time. You can choose seconds, minutes, hours, days, or weeks by specifying the first letter of any of those words (e.g., &#8216;1w&#8217;).</p>

<p>Specifying 0 will remove all files.</p>

<h4 id='backup'>backup</h4>

<p>Whether tidied files should be backed up. Any values are passed directly to the file resources used for actual file deletion, so use its backup documentation to determine valid values.</p>

<h4 id='matches'>matches</h4>

<p>One or more (shell type) file glob patterns, which restrict the list of files to be tidied to those whose basenames match at least one of the patterns specified. Multiple patterns can be specified using an array.</p>

<p>Example:</p>

<pre><code>tidy { &quot;/tmp&quot;:
    age =&gt; &quot;1w&quot;,
    recurse =&gt; false,
    matches =&gt; [ &quot;[0-9]pub*.tmp&quot;, &quot;*.temp&quot;, &quot;tmpfile?&quot; ]
}</code></pre>

<p>This removes files from /tmp if they are one week old or older, are not in a subdirectory and match one of the shell globs given.</p>

<p>Note that the patterns are matched against the basename of each file &#8211; that is, your glob patterns should not have any &#8217;/&#8217; characters in them, since you are only specifying against the last bit of the file.</p>

<h4 id='path'>path</h4>

<ul>
<li><strong>namevar</strong></li>
</ul>

<p>The path to the file or directory to manage. Must be fully qualified.</p>

<h4 id='recurse'>recurse</h4>

<p>If target is a directory, recursively descend into the directory looking for files to tidy. Valid values are <code>true</code>, <code>false</code>, <code>inf</code>. Values can match <code>/^[0-9]+$/</code>.</p>

<h4 id='rmdirs'>rmdirs</h4>

<p>Tidy directories in addition to files; that is, remove directories whose age is older than the specified criteria. This will only remove empty directories, so all contained files must also be tidied before a directory gets removed. Valid values are <code>true</code>, <code>false</code>.</p>

<h4 id='size'>size</h4>

<p>Tidy files whose size is equal to or greater than the specified size. Unqualified values are in kilobytes, but <em>b</em>, <em>k</em>, and <em>m</em> can be appended to specify <em>bytes</em>, <em>kilobytes</em>, and <em>megabytes</em>, respectively. Only the first character is significant, so the full word can also be used.</p>

<h4 id='type'>type</h4>

<p>Set the mechanism for determining age. Valid values are <code>atime</code>, <code>mtime</code>, <code>ctime</code>.</p>
        
              <div id="subCol">
        <h3 class="chapter"><img src="../../images/chapters_icon.gif" alt="" />Contents</h3>
        <ol class="chapters">
</ol></div>
      </div>
    </div>
    
    <div id="container">
      <div class="wrapper">
        <div id="mainCol">
          <p>* *</p>
        </div>
      </div>
    </div>
    
    <hr class="hide" />
    
    <div id="footer">
      <div class="wrapper">
        <p>&copy; 2009 Reductive Labs.</p>
        <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0</a> License.</p>
        <p>The documentation format are based on the &#8220;Rails Guides&#8221; project by the Ruby on Rails community.</p> 
      </div>
    </div>

  </body>
</html>