<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Puppet Docs</title>
    <link rel="stylesheet" type="text/css" href="../../files/stylesheets/style.css" media="all"/>
    <link rel="stylesheet" type="text/css" href="../../files/stylesheets/syntax.css" media="all"/>
  <script type="text/javascript" src="../../files/javascripts/guides.js"></script>
  <!-- <script type="text/javascript" src="../../files/javascripts/code_highlighter.js"></script><script type="text/javascript" src="../../files/javascripts/highlighters.js"></script> --></head>
  <body class="guide">
    <div id="topNav">
      <div class="wrapper">
        <strong>More at <a href="http://reductivelabs.com/">reductivelabs.com:</a> </strong>
        <a href="http://projects.reductivelabs.com/">Issue Tracker</a>
      </div>
    </div>
    <div id="header">
      <div class="wrapper clearfix">
        <h1><a href="../../index.html" title="Return to home page">docs.reductivelabs.com</a></h1>
        <p class="hide"><a href="#mainCol">Skip navigation</a>.</p>
        <ul class="nav">
          <li><a href="../../index.html">Home</a></li>
          <li class="index"><a href="index.html" onclick="guideMenu(); return false;" id="guidesMenu">Docs Index</a>
          <div id="index-dialog" class="clearfix" style="display: none;">
            <hr />
            <dl class="L">
              <dt>Guides</dt>
              <dd><a href="../../introduction.html">An Introduction to Puppet</a></dd>
              <dd><a href="../../installation.html">Installing Puppet</a></dd>
              <dd><a href="../../language_tutorial.html">Puppet Language Tutorial</a></dd>
            </dl>
            <dl class="R">
              <dt>References</dt>
              <dd><a href="../../types/">Resource Types (Categorized)</a></dd>
              <dd><a href="../../types/alphabetical_index.html">Resource Types (Alphabetical)</a></dd>
            </dl>
          </div>
          </li>
          <li><a href="contribute.html">Contribute</a></li>
        </ul>
      </div>
    </div>
    <hr class="hide" />

    <div id="feature">
      <div class="wrapper">
        <p>zone</p>

<p>Solaris zones.</p>

<h3 id='parameters'>Parameters</h3>

<h4 id='autoboot'>autoboot</h4>

<p>Whether the zone should automatically boot. Valid values are <code>true</code>, <code>false</code>.</p>

<h4 id='create_args'>create_args</h4>

<p>Arguments to the zonecfg create command. This can be used to create branded zones.</p>

<h4 id='ensure'>ensure</h4>

<p>The running state of the zone. The valid states directly reflect the states that <code>zoneadm</code> provides. The states are linear, in that a zone must be <code>configured</code> then <code>installed</code>, and only then can be <code>running</code>. Note also that <code>halt</code> is currently used to stop zones.</p>

<h4 id='id'>id</h4>

<p>The numerical ID of the zone. This number is autogenerated and cannot be changed.</p>

<h4 id='inherit'>inherit</h4>

<p>The list of directories that the zone inherits from the global zone. All directories must be fully qualified.</p>

<h4 id='install_args'>install_args</h4>

<p>Arguments to the zoneadm install command. This can be used to create branded zones.</p>

<h4 id='ip'>ip</h4>

<p>The IP address of the zone. IP addresses must be specified with the interface, separated by a colon, e.g.: bge0:192.168.0.1. For multiple interfaces, specify them in an array.</p>

<h4 id='name'>name</h4>

<ul>
<li><strong>namevar</strong></li>
</ul>

<p>The name of the zone.</p>

<h4 id='path'>path</h4>

<p>The root of the zone&#8217;s filesystem. Must be a fully qualified file name. If you include &#8216;%s&#8217; in the path, then it will be replaced with the zone&#8217;s name. At this point, you cannot use Puppet to move a zone.</p>

<h4 id='pool'>pool</h4>

<p>The resource pool for this zone.</p>

<h4 id='provider'>provider</h4>

<p>The specific backend for provider to use. You will seldom need to specify this &#8211; Puppet will usually discover the appropriate provider for your platform. Available providers are:</p>

<ul>
<li><strong>solaris</strong>: Provider for Solaris Zones. Required binaries: <code>/usr/sbin/zoneadm</code>, <code>/usr/sbin/zonecfg</code>. Default for <code>operatingsystem</code> == <code>solaris</code>.</li>
</ul>

<h4 id='realhostname'>realhostname</h4>

<p>The actual hostname of the zone.</p>

<h4 id='shares'>shares</h4>

<p>Number of FSS CPU shares allocated to the zone.</p>

<h4 id='sysidcfg'>sysidcfg</h4>

<p>The text to go into the sysidcfg file when the zone is first booted. The best way is to use a template:</p>

<pre><code># $templatedir/sysidcfg
system_locale=en_US
timezone=GMT
terminal=xterms
security_policy=NONE
root_password=&amp;lt;%= password %&gt;
timeserver=localhost
name_service=DNS {domain_name=&amp;lt;%= domain %&gt;
        name_server=&amp;lt;%= nameserver %&gt;}
network_interface=primary {hostname=&amp;lt;%= realhostname %&gt;
        ip_address=&amp;lt;%= ip %&gt;
        netmask=&amp;lt;%= netmask %&gt;
        protocol_ipv6=no
        default_route=&amp;lt;%= defaultroute %&gt;}
nfs4_domain=dynamic</code></pre>

<p>And then call that:</p>

<pre><code>zone { myzone:
    ip =&gt; &quot;bge0:192.168.0.23&quot;,
    sysidcfg =&gt; template(sysidcfg),
    path =&gt; &quot;/opt/zones/myzone&quot;,
    realhostname =&gt; &quot;fully.qualified.domain.name&quot;
}</code></pre>

<p>The sysidcfg only matters on the first booting of the zone, so Puppet only checks for it at that time.</p>
        
              <div id="subCol">
        <h3 class="chapter"><img src="../../images/chapters_icon.gif" alt="" />Contents</h3>
        <ol class="chapters">
</ol></div>
      </div>
    </div>
    
    <div id="container">
      <div class="wrapper">
        <div id="mainCol">
          <p>* *</p>
        </div>
      </div>
    </div>
    
    <hr class="hide" />
    
    <div id="footer">
      <div class="wrapper">
        <p>&copy; 2009 Reductive Labs.</p>
        <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0</a> License.</p>
        <p>The documentation format are based on the &#8220;Rails Guides&#8221; project by the Ruby on Rails community.</p> 
      </div>
    </div>

  </body>
</html>